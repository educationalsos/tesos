{"ast":null,"code":"import { SosService } from '../sos/sos.service';\nimport { ServicesService } from 'app/services/services.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../sos/sos.service\";\nimport * as i2 from \"app/services/services.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material\";\n\nfunction SosListComponent_div_3_tbody_42_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\")(8, \"div\", 23)(9, \"label\", 24);\n    i0.ɵɵelement(10, \"input\", 25);\n    i0.ɵɵelementStart(11, \"span\", 26);\n    i0.ɵɵelement(12, \"span\", 27);\n    i0.ɵɵelementEnd()()()()();\n  }\n\n  if (rf & 2) {\n    const serv_r7 = ctx.$implicit;\n    const m_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(m_r5.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(serv_r7.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(serv_r7.link);\n  }\n}\n\nfunction SosListComponent_div_3_tbody_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵtemplate(1, SosListComponent_div_3_tbody_42_tr_1_Template, 13, 3, \"tr\", 1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const m_r5 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", m_r5.services);\n  }\n}\n\nfunction SosListComponent_div_3_tbody_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"div\", 23)(5, \"label\", 24);\n    i0.ɵɵelement(6, \"input\", 25);\n    i0.ɵɵelementStart(7, \"span\", 26);\n    i0.ɵɵelement(8, \"span\", 27);\n    i0.ɵɵelementEnd()()()()();\n  }\n\n  if (rf & 2) {\n    const mission_r9 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(mission_r9);\n  }\n}\n\nfunction SosListComponent_div_3_tbody_58_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"div\", 23)(5, \"label\", 24);\n    i0.ɵɵelement(6, \"input\", 25);\n    i0.ɵɵelementStart(7, \"span\", 26);\n    i0.ɵɵelement(8, \"span\", 27);\n    i0.ɵɵelementEnd()()()()();\n  }\n\n  if (rf & 2) {\n    const behavior_r10 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(behavior_r10);\n  }\n}\n\nfunction SosListComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 2)(2, \"div\", 3)(3, \"div\", 4)(4, \"div\", 5)(5, \"div\", 6)(6, \"h4\", 7);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\", 8);\n    i0.ɵɵtext(9, \"Testing Requisites:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"ul\", 9)(11, \"li\", 10)(12, \"a\", 11)(13, \"i\", 12);\n    i0.ɵɵtext(14, \"bug_report\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15, \" Unity \");\n    i0.ɵɵelement(16, \"div\", 13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"li\", 10)(18, \"a\", 14)(19, \"i\", 12);\n    i0.ɵɵtext(20, \"bug_report\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \" Integration \");\n    i0.ɵɵelement(22, \"div\", 13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"li\", 10)(24, \"a\", 15)(25, \"i\", 12);\n    i0.ɵɵtext(26, \"bug_report\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(27, \" System \");\n    i0.ɵɵelement(28, \"div\", 13);\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementStart(29, \"div\", 16)(30, \"div\", 17)(31, \"div\", 18)(32, \"table\", 19)(33, \"thead\", 20)(34, \"th\");\n    i0.ɵɵtext(35, \"model\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"th\");\n    i0.ɵɵtext(37, \"name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"th\");\n    i0.ɵɵtext(39, \"link\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(40, \"th\");\n    i0.ɵɵtext(41, \"check\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(42, SosListComponent_div_3_tbody_42_Template, 2, 1, \"tbody\", 1);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(43, \"div\", 21)(44, \"table\", 19)(45, \"thead\", 20)(46, \"th\");\n    i0.ɵɵtext(47, \"name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(48, \"th\");\n    i0.ɵɵtext(49, \"check\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(50, SosListComponent_div_3_tbody_50_Template, 9, 1, \"tbody\", 1);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(51, \"div\", 22)(52, \"table\", 19)(53, \"thead\", 20)(54, \"th\");\n    i0.ɵɵtext(55, \"name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(56, \"th\");\n    i0.ɵɵtext(57, \"check\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(58, SosListComponent_div_3_tbody_58_Template, 9, 1, \"tbody\", 1);\n    i0.ɵɵelementEnd()()()()()()();\n  }\n\n  if (rf & 2) {\n    const sos_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(sos_r1.name);\n    i0.ɵɵadvance(35);\n    i0.ɵɵproperty(\"ngForOf\", sos_r1.models);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.missions.get(sos_r1.id));\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.behaviors.get(sos_r1.id));\n  }\n}\n\nexport let SosListComponent = /*#__PURE__*/(() => {\n  class SosListComponent {\n    constructor(sosService, servicesService) {\n      this.sosService = sosService;\n      this.servicesService = servicesService;\n    }\n\n    ngOnInit() {\n      this.sosService.getAll().subscribe(data => {\n        this.soss = data;\n      }, error => console.error(error), () => {\n        this.missions = new Map();\n        this.behaviors = new Map();\n        this.soss.forEach(sos => {\n          this.sosService.getMkaosModel(btoa(sos.mkaos_model)).subscribe(data => {\n            this.encodedFile = data;\n          }, error => console.error(error), () => {\n            let auxm = new Array();\n            let auxb = new Array();\n            var logLines = this.encodedFile.split(/[\\r\\n]+/);\n            logLines.forEach(line => {\n              var pos = line.indexOf(\"Mission\");\n\n              if (pos > 0) {\n                var start = line.indexOf(\"name=\");\n                var end = line.indexOf(\"refined\");\n                var str = line.slice(start + 5, end);\n                auxm.push(str);\n              } else {\n                pos = line.indexOf(\"EmergentBehavior\");\n\n                if (pos > 0) {\n                  var start = line.indexOf(\"name=\");\n                  var str = line.slice(start + 6, -3);\n                  auxb.push(str);\n                }\n              }\n            });\n            this.missions.set(sos.id, auxm);\n            this.behaviors.set(sos.id, auxb);\n          });\n        });\n      });\n    }\n\n    remove(id) {\n      this.sosService.remove(id).subscribe();\n    }\n\n  }\n\n  SosListComponent.ɵfac = function SosListComponent_Factory(t) {\n    return new (t || SosListComponent)(i0.ɵɵdirectiveInject(i1.SosService), i0.ɵɵdirectiveInject(i2.ServicesService));\n  };\n\n  SosListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SosListComponent,\n    selectors: [[\"app-sos-list\"]],\n    decls: 4,\n    vars: 1,\n    consts: [[1, \"main-content\"], [4, \"ngFor\", \"ngForOf\"], [1, \"col-lg-6\", \"col-md-12\"], [1, \"card\"], [1, \"card-header\", \"card-header-tabs\", \"card-header-primary\"], [1, \"nav-tabs-navigation\"], [1, \"nav-tabs-wrapper\"], [1, \"card-title\"], [1, \"card-category\"], [\"data-tabs\", \"tabs\", 1, \"nav\", \"nav-tabs\"], [1, \"nav-item\"], [\"mat-button\", \"\", \"href\", \"#unity\", \"data-toggle\", \"tab\", 1, \"nav-link\", \"active\"], [1, \"material-icons\"], [1, \"ripple-container\"], [\"mat-button\", \"\", \"href\", \"#integration\", \"data-toggle\", \"tab\", 1, \"nav-link\"], [\"mat-button\", \"\", \"href\", \"#system\", \"data-toggle\", \"tab\", 1, \"nav-link\"], [1, \"card-body\", \"table-responsive\"], [1, \"tab-content\"], [\"id\", \"unity\", 1, \"tab-pane\", \"active\"], [1, \"table\", \"table-hover\"], [1, \"text-warning\"], [\"id\", \"integration\", 1, \"tab-pane\"], [\"id\", \"system\", 1, \"tab-pane\"], [1, \"form-check\"], [1, \"form-check-label\"], [\"type\", \"checkbox\", \"value\", \"\", 1, \"form-check-input\"], [1, \"form-check-sign\"], [1, \"check\"]],\n    template: function SosListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n        i0.ɵɵtext(2, \"Sos List\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(3, SosListComponent_div_3_Template, 59, 4, \"div\", 1);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.soss);\n      }\n    },\n    dependencies: [i3.NgForOf, i4.MatAnchor]\n  });\n  return SosListComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}